<!-- Compact icon view -->
<button
  *ngIf="!isExpanded() && !alwaysExpanded"
  class="icon-tile"
  (click)="toggleExpanded()"
  [attr.aria-label]="ariaLabel || 'Expand ' + title"
  [attr.aria-expanded]="false"
  [appTooltip]="'Expand ' + title"
  appTooltipPlacement="top"
  type="button"
>
  <i [class]="'fa ' + icon" class="icon-display" aria-hidden="true"></i>
  <span class="title-display">{{ title }}</span>
</button>

<!-- Expanded card view (inline, not modal) -->
<article
  *ngIf="isExpanded()"
  class="expanded-card"
  [attr.aria-labelledby]="'card-title-' + title"
>
  @if (!alwaysExpanded && !childHasCollapseButton) {
  <div class="card-header">
    <button
      class="collapse-btn"
      (click)="toggleExpanded()"
      [attr.aria-label]="'Collapse ' + title"
      [attr.aria-expanded]="true"
      [appTooltip]="'Collapse ' + title"
      appTooltipPlacement="top"
      type="button"
    >
      <i class="fa fa-minus" aria-hidden="true"></i>
    </button>
  </div>
  }
  <div class="card-content">
    <ng-content></ng-content>
  </div>
</article>
