<mat-card class="container" aria-label="profile" id="profile-section">
  @if (isLoading) {
    <div class="loading-container">
      <mat-spinner diameter="40"></mat-spinner>
      <p>Loading profile...</p>
    </div>
  } @else {
    <mat-card-header class="profile-header">
      <img [src]="avatar" alt="Logo" class="logo" mat-card-avatar>

      <button mat-icon-button [matMenuTriggerFor]="menu" aria-label="Profile options">
        <mat-icon>more_vert</mat-icon>
      </button>
      
      <mat-menu #menu="matMenu">
        <button mat-menu-item (click)="cycleTheme()">
          <mat-icon>
            @if (currentTheme === 'dark') {
              dark_mode
            } @else if (currentTheme === 'white') {
              light_mode
            } @else {
              auto_awesome
            }
          </mat-icon>
          <span>{{ themeDisplayName }}</span>
        </button>

        <button mat-menu-item (click)="toggleVideoBg()">
          <mat-icon>
            @if (currentBackground === 'black') {
              circle
            } @else if (currentBackground === 'white') {
              brightness_1
            } @else {
              play_arrow
            }
          </mat-icon>
          <span>{{ backgroundDisplayName }}</span>
        </button>

        <button mat-menu-item (click)="changeFontSize()">
          <mat-icon>text_fields</mat-icon>
          <span>Font Size: {{ fontSizeDisplayName }}</span>
        </button>
      </mat-menu>
    </mat-card-header>

    <mat-card-content>
      <h2>✨ {{ name }} ✨</h2>
      <div class="socials">
        @for (link of socialLinks; track link.provider) {
          <a [href]="link.url" target="_blank" rel="noopener noreferrer" mat-icon-button>
            <i [ngClass]="getFontAwesomeLinks(link.provider)" aria-hidden="true"></i>
          </a>
        } @empty {
          No socialLinks available.
        }
      </div>
    </mat-card-content>
  }
</mat-card>

